(this["webpackJsonpmarvel-test"]=this["webpackJsonpmarvel-test"]||[]).push([[0],{41:function(e,t,a){},65:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var c=a(1),r=a.n(c),n=a(11),i=a.n(n),s=a(4),l=a.p+"static/media/logo.e90f6f7e.png",o=(a(41),Object(c.createContext)()),d=a(2),u=a(6),j=a.n(u),b=a(9),h=a(13),O=a.n(h),m={ts:"".concat(6),apikey:"".concat("b851322ff45094f53be8e488f1c3db76"),hash:"".concat("3899499c303701d1eed4542ec134f4da")},p=O.a.create({baseURL:"https://gateway.marvel.com/v1/public/"}),f=a(14),x=a.n(f),v=function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.get("characters",{params:m}),e.next=3,a;case 3:return c=e.sent,e.abrupt("return",t({type:"SEARCHED",payload:c.data.data,payloadTotal:c.data.data.total}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g=function(e,t,a){var c=x.a.filter(e,(function(e){return e.id===t}));return function(){var e=Object(b.a)(j.a.mark((function e(t){var r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===c){e.next=4;break}return e.abrupt("return",t({type:"SELECT_HERO",payload:c}));case 4:return r=p.get("characters",{params:{ts:6,apikey:"b851322ff45094f53be8e488f1c3db76",hash:"3899499c303701d1eed4542ec134f4da",name:a}}),e.next=7,r;case 7:return n=e.sent,e.abrupt("return",t({type:"SELECT_HERO",payload:n.data.data.results}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(b.a)(j.a.mark((function t(a){var c,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===e){t.next=8;break}return c=p.get("characters",{params:{ts:6,apikey:"b851322ff45094f53be8e488f1c3db76",hash:"3899499c303701d1eed4542ec134f4da",name:e}}),t.next=4,c;case 4:(r=t.sent).data.data.count>0?(r.data.data.results[0].search=!0,a({type:"SEARCH_HERO",payload:r.data.data.results})):a({type:"SEARCH_HERO",payload:[{id:"x-200",name:"Her\xf3i n\xe3o existe! Tente Novamente",search:!0}]}),t.next=9;break;case 8:return t.abrupt("return",[a({type:"SEARCH_HERO",payload:[]}),v()]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(e){var t=e.filter((function(e){return!this[JSON.stringify(e)]&&(this[JSON.stringify(e)]=!0)}),Object.create(null));return e[e.length-1].add=!0,function(a){return a({type:"MINHA_EQUIPE",payload:t,payloadLimit:e.length})}},y=function(e,t){var a=x.a.remove(e,(function(e){return e.id===t&&(e.add=!1),!x.a.isEqual(t,e.id)}));return function(e){return e({type:"EXCLUDE_EQUIPE",payload:a,payloadLimit:a.length})}},H=(a(65),a.p+"static/media/cancel.07d98d42.svg"),C=a(0),q=function(e){var t=Object(d.c)((function(e){return{equipe:e.characters.equipe,limitEquip:e.characters.limitEquip}})),a=Object(d.b)({excludeEquipe:y,selectHero:g}),r=Object(c.useContext)(o).setCloseDrawer,n=Object(c.useState)(),i=Object(s.a)(n,2),l=i[0],u=i[1],j=Object(c.useState)(),b=Object(s.a)(j,2),h=b[0],O=b[1];return Object(c.useEffect)((function(){t.limitEquip>0?(u("Ver equipes"),O(!0)):(u("Equipe vazia"),O(!1))}),[t.limitEquip]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:h?"close-equipe":"d-none",onClick:function(){O(!0),h&&O(!1)},children:[Object(C.jsx)("img",{src:H,alt:"Fechar",width:"30"}),"Fechar"]}),Object(C.jsx)("div",{className:h?"d-none":"ver-lista",onClick:function(){t.limitEquip>0&&O(!0)},children:Object(C.jsx)("span",{children:l})}),Object(C.jsx)("div",{className:h?"selected-heroes active":"selected-heroes",children:"undefined"!==t.equipe?t.equipe.map((function(e){return Object(C.jsxs)("div",{className:"items",children:[Object(C.jsx)("div",{className:"close-equipe-list",children:Object(C.jsx)("img",{src:H,alt:"Fechar",width:"30",onClick:function(){return a(y(t.equipe,e.id))}})}),Object(C.jsx)("figure",{className:"circle-img",onClick:function(){return function(e,t,c){r(!0),a(g(e,t,c))}(t.equipe,e.id,e.name)},children:Object(C.jsx)("img",{src:e.thumbnail.path+".jpg",alt:""})}),Object(C.jsx)("span",{children:e.name})]},e.name)})):""})]})},D=function(e){return Object(C.jsxs)("header",{children:[Object(C.jsx)("div",{className:"logo",children:Object(C.jsx)("img",{src:l,alt:"Logo Marvel"})}),Object(C.jsx)("div",{className:"equipe",children:Object(C.jsx)(q,{})})]})},w=a(17),_=a(29),k=a.n(_),S=(a(68),a.p+"static/media/loading.10104c11.svg"),R=a.p+"static/media/interrogation.97213628.svg",L=a.p+"static/media/visibility.4fdbf72a.svg";function T(){var e,t=Object(d.c)((function(e){return{searchHero:e.characters.searchHero}})),a=Object(d.b)({selectHero:g}),r=Object(c.useContext)(o).setCloseDrawer;return Object(C.jsx)(C.Fragment,{children:"x-200"!==(null===(e=t.searchHero[0])||void 0===e?void 0:e.id)?t.searchHero.map((function(e){var c,n;return Object(C.jsx)("div",{className:"search-list card",children:Object(C.jsxs)("div",{className:"itens",children:[Object(C.jsx)("img",{src:(null===(c=e.thumbnail)||void 0===c?void 0:c.path)+"/standard_xlarge."+(null===(n=e.thumbnail)||void 0===n?void 0:n.extension),alt:e.name}),Object(C.jsxs)("div",{className:"info",children:[Object(C.jsx)("span",{children:e.name}),Object(C.jsx)("button",{className:"ver-mais",onClick:function(){return c=t.searchHero,n=e.id,i=e.name,r(!0),void a(g(c,n,i));var c,n,i},children:Object(C.jsx)("img",{src:L,alt:"eye"})})]})]})},e.id)})):t.searchHero.map((function(e){return Object(C.jsx)("div",{className:"not-found card",children:Object(C.jsxs)("div",{className:"itens",children:[Object(C.jsx)("img",{src:R,alt:"interroga\xe7\xe3o icon"}),Object(C.jsx)("div",{className:"info",children:Object(C.jsx)("span",{children:e.name})})]})},e.id)}))})}var I=a.p+"static/media/search.a1e29181.svg";function U(){var e=Object(d.b)({search:E}),t=Object(c.useState)(!1),a=Object(s.a)(t,2),r=a[0],n=a[1],i=Object(c.useState)(""),l=Object(s.a)(i,2),o=l[0],u=l[1];return Object(C.jsxs)("div",{className:"form-container",children:[Object(C.jsx)("input",{className:"form-search",type:"text",placeholder:"Busca",value:o,onKeyUp:function(t){"Enter"===t.key&&(e(E(o)),n(!0))},onChange:function(e){return u(e.target.value)}}),Object(C.jsx)("button",{type:"button",className:"search-btn",onClick:function(){return t=o,n(!0),void e(E(t));var t},children:Object(C.jsx)("img",{src:I,alt:"Search icon"})}),Object(C.jsx)("button",{type:"button",className:r?"limpar":"limpar d-none",onClick:function(){return u(""),e(E("")),void n(!1)},children:"Limpar pesquisa"})]})}function A(e){var t=Object(c.useContext)(o).setCloseDrawer,a=Object(d.b)({selectHero:g});return Object(C.jsx)("div",{className:"card",children:Object(C.jsxs)("div",{className:"itens",children:[Object(C.jsx)("img",{src:e.arrObjChar.thumbnail.path+"/standard_xlarge."+e.arrObjChar.thumbnail.extension,alt:e.name}),Object(C.jsxs)("div",{className:"info",children:[Object(C.jsx)("span",{children:e.arrObjChar.name}),Object(C.jsx)("button",{className:"ver-mais",onClick:function(){return c=e.listStateProps,r=e.arrObjChar.id,n=e.arrObjChar.name,t(!0),void a(g(c,r,n));var c,r,n},children:Object(C.jsx)("img",{src:L,alt:"eye"})})]})]})})}var M,F=function(){var e,t=Object(d.c)((function(e){return{list:e.characters.list,load:e.characters.load,total:e.characters.total,searchHero:e.characters.searchHero}})),a=Object(d.b)({listHeroes:v,search:E}),r=Object(c.useContext)(o).closeDrawer,n=Object(c.useRef)(!0),i=Object(c.useState)(!1===t.load?t.list.results:[]),l=Object(s.a)(i,2),u=l[0],h=l[1],m=Object(c.useState)(0),p=Object(s.a)(m,2),f=p[0],x=p[1];return Object(c.useEffect)((function(){n.current&&(a(v()),n.current=!1)})),Object(C.jsx)("div",{className:r?"list-heroes activeListHeroWidth":"list-heroes",children:Object(C.jsxs)("div",{className:"container",children:[Object(C.jsx)(U,{}),Object(C.jsx)("div",{className:"card-search",children:Object(C.jsx)(T,{})}),Object(C.jsx)(k.a,{pageStart:0,loadMore:function(){setTimeout(Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://gateway.marvel.com/v1/public/characters",{params:{ts:6,apikey:"b851322ff45094f53be8e488f1c3db76",hash:"3899499c303701d1eed4542ec134f4da",limit:20,offset:f}});case 2:t=e.sent,a=t.data.data.results,200===t.status&&(h([].concat(Object(w.a)(u),Object(w.a)(a))),x(f+20));case 6:case"end":return e.stop()}}),e)}))),1e3)},hasMore:Math.ceil(t.total/20)>Math.ceil(f/20+1),loader:Object(C.jsx)("div",{className:"loading",children:Object(C.jsx)("img",{className:"loading-svg",src:S,alt:"Loading..."})},0),className:(null===(e=t.searchHero[0])||void 0===e?void 0:e.search)?"d-none":"cards",children:!1===t.load?u.map((function(e){return Object(C.jsx)(A,{arrObjChar:e,listStateProps:u},e.id)})):Object(C.jsx)("div",{className:"loading",children:Object(C.jsx)("img",{className:"loading-svg",src:S,alt:"Loading..."})})})]})})},P=a(30),Q=a(31),X=(a(69),a.p+"static/media/add.5f914d0e.svg"),J=Q.a.div(M||(M=Object(P.a)(["\n  .adicionar {\n    display: ",";      \n  }\n  .aviso {\n    display: ",";\n  }\n"])),(function(e){return e.limit<5?"block":"none"}),(function(e){return e.limit>=5?"block":"none"})),V=function(e){var t=Object(d.c)((function(e){return{selectHeroDetail:e.characters.selectHeroDetail,equipe:e.characters.equipe,limitEquip:e.characters.limitEquip}})),a=Object(d.b)({selectedEquipe:N,excludeEquipe:y}),r=Object(c.useContext)(o),n=r.closeDrawer,i=r.setCloseDrawer;return Object(C.jsx)("div",{className:n?"detail-hero detail-hero-mobile activeDetail":" detail-hero detail-hero-mobile",children:t.selectHeroDetail.map((function(e){var c,r;return Object(C.jsxs)("div",{className:"info-hero",children:[Object(C.jsx)("div",{className:"close",onClick:function(){i(!1)},children:Object(C.jsx)("img",{src:H,alt:"Fechar",width:"30"})}),Object(C.jsxs)(J,{limit:t.limitEquip,className:"title",children:[Object(C.jsx)("figure",{children:Object(C.jsx)("img",{src:e.thumbnail.path+"/standard_fantastic."+e.thumbnail.extension,alt:e.name})}),Object(C.jsxs)("div",{className:"info-hero__left",children:[Object(C.jsx)("h2",{children:e.name}),Object(C.jsxs)("button",{className:(null===(c=t.selectHeroDetail[0])||void 0===c?void 0:c.add)?"d-none":"adicionar",type:"button",onClick:function(){return a(N(t.equipe.concat(t.selectHeroDetail)))},children:["Adicionar",Object(C.jsx)("img",{src:X,alt:"plus"})]}),Object(C.jsxs)("button",{className:(null===(r=t.selectHeroDetail[0])||void 0===r?void 0:r.add)?"excluir":"d-none",type:"button",onClick:function(){return a(y(t.equipe,e.id))},children:["Excluir",Object(C.jsx)("img",{src:X,alt:"excluir"})]}),Object(C.jsx)("div",{className:"aviso alert-danger",children:"Limite m\xe1ximo de 5 her\xf3is adicionados. Remova uma da lista caso queira trocar."})]})]}),Object(C.jsxs)("div",{className:"description",children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("h2",{children:"ID"}),e.id]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("h2",{children:"Descri\xe7\xe3o"}),""===e.description?"No description":e.description]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("h2",{children:"Data de modifica\xe7\xe3o"}),e.modified]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("h2",{children:"\xdaltimas HQs"}),Object(C.jsx)("ul",{children:"undefined"!==e.series.items?e.series.items.map((function(e){return Object(C.jsx)("li",{children:e.name},e.name)})):""}),0===t.selectHeroDetail[0].series.returned?"No HQs.":""]})]})]},e.name)}))})};a(70);var B=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),a={closeDrawer:t[0],setCloseDrawer:t[1]};return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(o.Provider,{value:a,children:[Object(C.jsx)(D,{}),Object(C.jsxs)("main",{children:[Object(C.jsx)(F,{}),Object(C.jsx)(V,{})]})]})})},z=a(15),K=a(35),W=a(5),G={load:!0,searchHero:[],list:[],selectHeroDetail:[],total:0,equipe:[],limitEquip:0},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_HERO":return Object(W.a)(Object(W.a)({},e),{},{selectHeroDetail:t.payload});case"SEARCHED":return Object(W.a)(Object(W.a)({},e),{},{load:!1,list:t.payload,total:t.payloadTotal});case"SEARCH_HERO":return Object(W.a)(Object(W.a)({},e),{},{searchHero:t.payload});case"MINHA_EQUIPE":case"EXCLUDE_EQUIPE":return Object(W.a)(Object(W.a)({},e),{},{equipe:t.payload,limitEquip:t.payloadLimit});default:return e}},Z=a(36),$=a.n(Z),ee=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),te=Object(z.b)({characters:Y}),ae=Object(z.a)(K.a,$.a)(z.c)(te,ee);var ce=function(){return ae}();i.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(d.a,{store:ce,children:Object(C.jsx)(B,{})})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.f90da78c.chunk.js.map