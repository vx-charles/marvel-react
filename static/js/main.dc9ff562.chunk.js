(this["webpackJsonpmarvel-test"]=this["webpackJsonpmarvel-test"]||[]).push([[0],{41:function(e,t,a){},65:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var c=a(0),i=a.n(c),n=a(11),r=a.n(n),s=a(5),l=a.p+"static/media/logo.e90f6f7e.png",o=(a(41),a(3)),d=a(6),u=a.n(d),j=a(9),b=a(13),h=a.n(b),m={ts:"".concat(6),apikey:"".concat("60a102569ba4ccc05c57af19ebeaf636"),hash:"".concat("c96130248d43dbb1b0583dde5de35803")},O=h.a.create({baseURL:"https://gateway.marvel.com/v1/public/"}),p=a(14),f=a.n(p),x=function(){return function(){var e=Object(j.a)(u.a.mark((function e(t){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=O.get("characters",{params:m}),e.next=3,a;case 3:return c=e.sent,e.abrupt("return",t({type:"SEARCHED",payload:c.data.data,payloadTotal:c.data.data.total}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(e,t,a){var c=f.a.filter(e,(function(e){return e.id===t}));return function(){var e=Object(j.a)(u.a.mark((function e(t){var i,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===c){e.next=4;break}return e.abrupt("return",t({type:"SELECT_HERO",payload:c}));case 4:return i=O.get("characters",{params:{ts:6,apikey:"60a102569ba4ccc05c57af19ebeaf636",hash:"c96130248d43dbb1b0583dde5de35803",name:a}}),e.next=7,i;case 7:return n=e.sent,e.abrupt("return",t({type:"SELECT_HERO",payload:n.data.data.results}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(j.a)(u.a.mark((function t(a){var c,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===e){t.next=8;break}return c=O.get("characters",{params:{ts:6,apikey:"60a102569ba4ccc05c57af19ebeaf636",hash:"c96130248d43dbb1b0583dde5de35803",name:e}}),t.next=4,c;case 4:(i=t.sent).data.data.count>0?(i.data.data.results[0].search=!0,a({type:"SEARCH_HERO",payload:i.data.data.results})):a({type:"SEARCH_HERO",payload:[{id:"x-200",name:"Her\xf3i n\xe3o existe! Tente Novamente",search:!0}]}),t.next=9;break;case 8:return t.abrupt("return",[a({type:"SEARCH_HERO",payload:[]}),x()]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){var t=e.filter((function(e){return!this[JSON.stringify(e)]&&(this[JSON.stringify(e)]=!0)}),Object.create(null));return e[e.length-1].add=!0,function(a){return a({type:"MINHA_EQUIPE",payload:t,payloadLimit:e.length})}},y=function(e,t){var a=f.a.remove(e,(function(e){return e.id===t&&(e.add=!1),!f.a.isEqual(t,e.id)}));return function(e){return e({type:"EXCLUDE_EQUIPE",payload:a,payloadLimit:a.length})}},N=(a(65),a.p+"static/media/cancel.07d98d42.svg"),H=Object(c.createContext)(),q=a(1),C=function(e){var t=Object(o.c)((function(e){return{equipe:e.characters.equipe,limitEquip:e.characters.limitEquip}})),a=Object(o.b)({excludeEquipe:y,selectHero:v}),i=Object(c.useContext)(H).setCloseDrawer,n=Object(c.useState)(),r=Object(s.a)(n,2),l=r[0],d=r[1],u=Object(c.useState)(),j=Object(s.a)(u,2),b=j[0],h=j[1];return Object(c.useEffect)((function(){t.limitEquip>0?(d("Ver equipes"),h(!0)):(d("Equipe vazia"),h(!1))}),[t.limitEquip]),Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)("div",{className:b?"close-equipe":"d-none",onClick:function(){h(!0),b&&h(!1)},children:[Object(q.jsx)("img",{src:N,alt:"Fechar",width:"30"}),"Fechar"]}),Object(q.jsx)("div",{className:b?"d-none":"ver-lista",onClick:function(){t.limitEquip>0&&h(!0)},children:Object(q.jsx)("span",{children:l})}),Object(q.jsx)("div",{className:b?"selected-heroes active":"selected-heroes",children:"undefined"!==t.equipe?t.equipe.map((function(e){return Object(q.jsxs)("div",{className:"items",children:[Object(q.jsx)("div",{className:"close-equipe-list",children:Object(q.jsx)("img",{src:N,alt:"Fechar",width:"30",onClick:function(){return a(y(t.equipe,e.id))}})}),Object(q.jsx)("figure",{className:"circle-img",onClick:function(){return function(e,t,c){i(!0),a(v(e,t,c))}(t.equipe,e.id,e.name)},children:Object(q.jsx)("img",{src:e.thumbnail.path+".jpg",alt:""})}),Object(q.jsx)("span",{children:e.name})]},e.name)})):""})]})},D=function(e){return Object(q.jsxs)("header",{children:[Object(q.jsx)("div",{className:"logo",children:Object(q.jsx)("img",{src:l,alt:"Logo Marvel"})}),Object(q.jsx)("div",{className:"equipe",children:Object(q.jsx)(C,{})})]})},_=a(17),k=a(29),w=a.n(k),S=(a(68),a.p+"static/media/visibility.4fdbf72a.svg"),R=a.p+"static/media/loading.10104c11.svg",L=a.p+"static/media/search.a1e29181.svg",T=a.p+"static/media/interrogation.97213628.svg";var I,U=function(e){var t,a,i=Object(o.c)((function(e){return{list:e.characters.list,load:e.characters.load,selectHeroDetail:e.characters.selectHeroDetail,total:e.characters.total,searchHero:e.characters.searchHero}})),n=Object(o.b)({listHeroes:x,selectHero:v,search:E}),r=Object(c.useContext)(H),l=r.closeDrawer,d=r.setCloseDrawer,b=Object(c.useRef)(!0),m=Object(c.useState)(!1===i.load?i.list.results:[]),O=Object(s.a)(m,2),p=O[0],f=O[1],g=Object(c.useState)(""),y=Object(s.a)(g,2),N=y[0],C=y[1],D=Object(c.useState)(0),k=Object(s.a)(D,2),I=k[0],U=k[1],A=Object(c.useState)(!1),M=Object(s.a)(A,2),F=M[0],Q=M[1];function X(e,t,a){d(!0),n(v(e,t,a))}return Object(c.useEffect)((function(){b.current&&(n(x()),b.current=!1)})),Object(q.jsx)("div",{className:l?"list-heroes activeListHeroWidth":"list-heroes",children:Object(q.jsxs)("div",{className:"container",children:[Object(q.jsxs)("div",{className:"form-container",children:[Object(q.jsx)("input",{className:"form-search",type:"text",placeholder:"Busca",value:N,onKeyUp:function(e){"Enter"===e.key&&(n(E(N)),Q(!0))},onChange:function(e){return C(e.target.value)}}),Object(q.jsx)("button",{type:"button",className:"search-btn",onClick:function(){return function(e){Q(!0),n(E(e))}(N)},children:Object(q.jsx)("img",{src:L,alt:"Search icon"})}),Object(q.jsx)("button",{type:"button",className:F?"limpar":"limpar d-none",onClick:function(){return C(""),n(E("")),void Q(!1)},children:"Limpar pesquisa"})]}),Object(q.jsx)("div",{className:"card-search",children:"x-200"!==(null===(t=i.searchHero[0])||void 0===t?void 0:t.id)?i.searchHero.map((function(e){var t,a;return Object(q.jsx)("div",{className:"search-list card",children:Object(q.jsxs)("div",{className:"itens",children:[Object(q.jsx)("img",{src:(null===(t=e.thumbnail)||void 0===t?void 0:t.path)+"/standard_xlarge."+(null===(a=e.thumbnail)||void 0===a?void 0:a.extension),alt:e.name}),Object(q.jsxs)("div",{className:"info",children:[Object(q.jsx)("span",{children:e.name}),Object(q.jsx)("button",{className:"ver-mais",onClick:function(){return X(i.searchHero,e.id,e.name)},children:Object(q.jsx)("img",{src:S,alt:"eye"})})]})]})},e.id)})):i.searchHero.map((function(e){return Object(q.jsx)("div",{className:"not-found card",children:Object(q.jsxs)("div",{className:"itens",children:[Object(q.jsx)("img",{src:T,alt:"interroga\xe7\xe3o icon"}),Object(q.jsx)("div",{className:"info",children:Object(q.jsx)("span",{children:e.name})})]})},e.id)}))}),Object(q.jsx)(w.a,{pageStart:0,loadMore:function(){setTimeout(Object(j.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://gateway.marvel.com/v1/public/characters",{params:{ts:6,apikey:"60a102569ba4ccc05c57af19ebeaf636",hash:"c96130248d43dbb1b0583dde5de35803",limit:20,offset:I}});case 2:t=e.sent,a=t.data.data.results,200===t.status&&(f([].concat(Object(_.a)(p),Object(_.a)(a))),U(I+20));case 6:case"end":return e.stop()}}),e)}))),1e3)},hasMore:Math.ceil(i.total/20)>Math.ceil(I/20+1),loader:Object(q.jsx)("img",{className:"loading-svg",src:R,alt:"Loading..."},0),className:(null===(a=i.searchHero[0])||void 0===a?void 0:a.search)?"d-none":"cards",children:!1===i.load?p.map((function(e){return Object(q.jsx)("div",{className:"card",children:Object(q.jsxs)("div",{className:"itens",children:[Object(q.jsx)("img",{src:e.thumbnail.path+"/standard_xlarge."+e.thumbnail.extension,alt:e.name}),Object(q.jsxs)("div",{className:"info",children:[Object(q.jsx)("span",{children:e.name}),Object(q.jsx)("button",{className:"ver-mais",onClick:function(){return X(p,e.id,e.name)},children:Object(q.jsx)("img",{src:S,alt:"eye"})})]})]})},e.id)})):""})]})})},A=a(30),M=a(31),F=(a(69),a.p+"static/media/add.5f914d0e.svg"),Q=M.a.div(I||(I=Object(A.a)(["\n  .adicionar {\n    display: ",";      \n  }\n  .aviso {\n    display: ",";\n  }\n"])),(function(e){return e.limit<5?"block":"none"}),(function(e){return e.limit>=5?"block":"none"})),X=function(e){var t=Object(o.c)((function(e){return{selectHeroDetail:e.characters.selectHeroDetail,equipe:e.characters.equipe,limitEquip:e.characters.limitEquip}})),a=Object(o.b)({selectedEquipe:g,excludeEquipe:y}),i=Object(c.useContext)(H),n=i.closeDrawer,r=i.setCloseDrawer;return Object(q.jsx)("div",{className:n?"detail-hero detail-hero-mobile activeDetail":" detail-hero detail-hero-mobile",children:t.selectHeroDetail.map((function(e){var c,i;return Object(q.jsxs)("div",{className:"info-hero",children:[Object(q.jsx)("div",{className:"close",onClick:function(){r(!1)},children:Object(q.jsx)("img",{src:N,alt:"Fechar",width:"30"})}),Object(q.jsxs)(Q,{limit:t.limitEquip,className:"title",children:[Object(q.jsx)("figure",{children:Object(q.jsx)("img",{src:e.thumbnail.path+"/standard_fantastic."+e.thumbnail.extension,alt:e.name})}),Object(q.jsxs)("div",{className:"info-hero__left",children:[Object(q.jsx)("h2",{children:e.name}),Object(q.jsxs)("button",{className:(null===(c=t.selectHeroDetail[0])||void 0===c?void 0:c.add)?"d-none":"adicionar",type:"button",onClick:function(){return a(g(t.equipe.concat(t.selectHeroDetail)))},children:["Adicionar",Object(q.jsx)("img",{src:F,alt:"plus"})]}),Object(q.jsxs)("button",{className:(null===(i=t.selectHeroDetail[0])||void 0===i?void 0:i.add)?"excluir":"d-none",type:"button",onClick:function(){return a(y(t.equipe,e.id))},children:["Excluir",Object(q.jsx)("img",{src:F,alt:"excluir"})]}),Object(q.jsx)("div",{className:"aviso alert-danger",children:"Limite m\xe1ximo de 5 her\xf3is adicionados. Remova uma da lista caso queira trocar."})]})]}),Object(q.jsxs)("div",{className:"description",children:[Object(q.jsxs)("div",{children:[Object(q.jsx)("h2",{children:"ID"}),e.id]}),Object(q.jsxs)("div",{children:[Object(q.jsx)("h2",{children:"Descri\xe7\xe3o"}),""===e.description?"No description":e.description]}),Object(q.jsxs)("div",{children:[Object(q.jsx)("h2",{children:"Data de modifica\xe7\xe3o"}),e.modified]}),Object(q.jsxs)("div",{children:[Object(q.jsx)("h2",{children:"\xdaltimas HQs"}),Object(q.jsx)("ul",{children:"undefined"!==e.series.items?e.series.items.map((function(e){return Object(q.jsx)("li",{children:e.name},e.name)})):""}),0===t.selectHeroDetail[0].series.returned?"No HQs.":""]})]})]},e.name)}))})};a(70);var P=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),a={closeDrawer:t[0],setCloseDrawer:t[1]};return Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(H.Provider,{value:a,children:[Object(q.jsx)(D,{}),Object(q.jsxs)("main",{children:[Object(q.jsx)(U,{}),Object(q.jsx)(X,{})]})]})})},J=a(15),V=a(35),B=a(4),z={load:!0,searchHero:[],list:[],selectHeroDetail:[],total:0,equipe:[],limitEquip:0},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_HERO":return Object(B.a)(Object(B.a)({},e),{},{selectHeroDetail:t.payload});case"SEARCHED":return Object(B.a)(Object(B.a)({},e),{},{load:!1,list:t.payload,total:t.payloadTotal});case"SEARCH_HERO":return Object(B.a)(Object(B.a)({},e),{},{searchHero:t.payload});case"MINHA_EQUIPE":case"EXCLUDE_EQUIPE":return Object(B.a)(Object(B.a)({},e),{},{equipe:t.payload,limitEquip:t.payloadLimit});default:return e}},W=a(36),G=a.n(W),Y=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Z=Object(J.b)({characters:K}),$=Object(J.a)(V.a,G.a)(J.c)(Z,Y);var ee=function(){return $}();r.a.render(Object(q.jsx)(i.a.StrictMode,{children:Object(q.jsx)(o.a,{store:ee,children:Object(q.jsx)(P,{})})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.dc9ff562.chunk.js.map